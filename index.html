<!-- Prompt:
Create an interactive p5.js sketch for a personal website homepage background. 
The sketch should display an animated starfield with smooth twinkling effects. 
Stars should be connected by faint lines when they are close to each other. Additionally, 
make the starfield subtly react to mouse movement by shifting its viewing angle or parallax, 
giving a sense of depth. The code should be well-commented in English, mobile-responsive, and optimized for performance.-->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Spike Rao — Homepage</title>

  <!-- Fonts: classical serif + modern sans -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@500;700&family=EB+Garamond:wght@400;500&family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">

</head>
<body>
  <!-- Starfield background -->
  <canvas id="bg" aria-hidden="true"></canvas>

  <div class="wrap">
    <header class="hero">
      <div class="portrait">
        <!-- Replace with your photo file -->
        <img src="My-photo.JPG" alt="Photo of Spike Rao">
      </div>

      <div class="title">
        <h1>Spike Rao</h1>
        <div class="subtitle">
          UCSB Electrical Engineering · Technology × Art × Design
        </div>

        <div class="actions">
          <a class="btn primary" href="resume.pdf" target="_blank" rel="noopener">Download CV</a>
          <a class="btn" href="mailto:crao4036@gmail.com">Email me</a>
          <a class="btn" href="https://github.com/Spike4036" target="_blank" rel="noopener">GitHub</a>
        </div>
      </div>
    </header>

    <main>
      <section class="panel">
        <h2>About</h2>
        <div class="ornament" aria-hidden="true"></div>
        <p>I’m an Electrical Engineering student (Class of 2026) who loves blending technology, art, and design. I build interactive systems that balance precision and play—embedded control and reliability on one side; storytelling, visuals, and user experience on the other.

Recent work includes a VR Space Station Museum, a bionic hand prototype, a face-muscle click interface, and a set of 3D modeling pieces. I care about clear documentation and accessibility so others can learn from and remix what I make.</p>
      </section>

<section class="panel">
  <h2>My Portfolio</h2>
  <div class="ornament" aria-hidden="true"></div>

  <div class="cards">
    <article class="card">
      <a href="portfolio/index.html">
        <h3>Selected Projects</h3>
        <p>See my VR, Hardware, and creative coding projects in detail.</p>
      </a>
    </article>
  </div>
</section>


      <section class="panel">
        <h2>Contact</h2>
        <div class="ornament" aria-hidden="true"></div>
        <p><strong>Email:</strong> crao4036@gmail.com<br>
           <strong>GitHub:</strong> <a href="https://github.com/Spike4036" target="_blank" rel="noopener">github.com/Spike4036</a></p>
      </section>
    </main>

    <footer>© <span id="year"></span> <span id="name">Spike Rao</span> · Bringing imagined creations into reality</footer>
  </div>

<script>
  // Set footer year and site name dynamically
  const SITE_NAME = "Spike Rao";
  document.getElementById('name').textContent = SITE_NAME;
  document.getElementById('year').textContent = new Date().getFullYear();

  // Starfield background animation with mouse parallax
  const prefersReduce = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
  const canvas = document.getElementById('bg');
  const ctx = canvas.getContext('2d', { alpha: false });

  let stars = [], w=0, h=0, t=0;
  const STAR_COUNT_BASE = 120, CONNECT_DIST = 110, DPR = Math.min(2, window.devicePixelRatio || 1);

  // NEW: mouse state for parallax (normalized -1..1 and DPR coords)
  let mouseXNorm = 0, mouseYNorm = 0;
  let mouseXDPR = 0, mouseYDPR = 0;

  function resize(){
    w = canvas.width = Math.floor(window.innerWidth * DPR);
    h = canvas.height = Math.floor(window.innerHeight * DPR);
    canvas.style.width = window.innerWidth + 'px';
    canvas.style.height = window.innerHeight + 'px';
    const target = Math.floor(STAR_COUNT_BASE * Math.sqrt((w*h)/(1400*800)));
    stars = Array.from({length: target}, () => ({
      x: Math.random()*w, y: Math.random()*h,
      vx: (Math.random()-.5)*0.06*DPR, vy: (Math.random()-.5)*0.06*DPR,
      r: (Math.random()*1.3 + 0.3)*DPR, tw: Math.random()*Math.PI*2
    }));
  }
  window.addEventListener('resize', () => { resize(); if (prefersReduce) drawFrame(); }, { passive:true });
  resize();

  // NEW: track mouse for parallax
  window.addEventListener('mousemove', (e) => {
    mouseXNorm = (e.clientX / window.innerWidth - 0.5) * 2; // -1..1
    mouseYNorm = (e.clientY / window.innerHeight - 0.5) * 2; // -1..1
    mouseXDPR = e.clientX * DPR;
    mouseYDPR = e.clientY * DPR;
    if (prefersReduce) drawFrame(); // if animations off, still update a static frame
  }, { passive:true });

  function drawFrame(){
    t += 0.016;

    // background base + ambient glow (your original look)
    ctx.fillStyle = 'rgb(10,20,45)'; ctx.fillRect(0,0,w,h);
    const gx = ctx.createRadialGradient(w*0.75, h*0.1, 0, w*0.75, h*0.1, Math.max(w,h)*0.8);
    gx.addColorStop(0, 'rgba(137,199,255,0.06)'); gx.addColorStop(1, 'rgba(0,0,0,0)');
    ctx.fillStyle = gx; ctx.fillRect(0,0,w,h);

    // NEW: subtle parallax offset from mouse (feel free to tweak 12/10)
    const px = mouseXNorm * 12 * DPR;
    const py = mouseYNorm * 10 * DPR;

    // stars (your twinkle + drift), drawn at (x+px, y+py)
    ctx.globalCompositeOperation = 'lighter';
    for(const s of stars){
      s.x += s.vx; s.y += s.vy;
      if (s.x < -20) s.x = w+20; if (s.x > w+20) s.x = -20;
      if (s.y < -20) s.y = h+20; if (s.y > h+20) s.y = -20;
      const tw = (Math.sin(t*0.9 + s.tw) + 1)/2;
      const r = s.r*(0.6 + 0.5*tw);

      const sx = s.x + px, sy = s.y + py; // shifted by parallax

      const grad = ctx.createRadialGradient(sx, sy, 0, sx, sy, r*3);
      grad.addColorStop(0, 'rgba(255,255,255,0.9)');
      grad.addColorStop(1, 'rgba(137,199,255,0.05)');
      ctx.fillStyle = grad; ctx.beginPath(); ctx.arc(sx, sy, r, 0, Math.PI*2); ctx.fill();
    }

    // connection lines use the same parallax offset
    ctx.globalCompositeOperation = 'screen';
    ctx.lineWidth = 0.6 * DPR;
    for (let i=0;i<stars.length;i++){
      for (let j=i+1;j<stars.length;j++){
        const a = stars[i], b = stars[j];
        const ax = a.x + px, ay = a.y + py;
        const bx = b.x + px, by = b.y + py;
        const d = Math.hypot(ax - bx, ay - by);
        if (d < CONNECT_DIST * DPR){
          const o = (1 - d/(CONNECT_DIST*DPR)) * 0.25;
          ctx.strokeStyle = `rgba(137,199,255,${o})`;
          ctx.beginPath(); ctx.moveTo(ax, ay); ctx.lineTo(bx, by); ctx.stroke();
        }
      }
    }
    ctx.globalCompositeOperation = 'source-over';
  }

  // draw loop
  if (prefersReduce){
    // accessibility: draw at least one frame (and update on mousemove/resize)
    drawFrame();
  } else {
    (function loop(){
      drawFrame();
      requestAnimationFrame(loop);
    })();
  }
</script>
</body>
</html>
